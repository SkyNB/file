webpackJsonp([18],{212:function(e,t,a){a(365);var o=a(51)(a(246),a(332),"data-v-ec2faa82",null);o.options.__file="F:\\Workspaces\\Java\\Project\\Mobanker\\jar-x-sis\\sis-ui\\pc-h5-vue-element\\src\\vue\\v_1.0.0\\modules\\authorization\\index.vue",o.esModule&&Object.keys(o.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),o.options.functional&&console.error("[vue-loader] index.vue: functional components are not supported with templates, they should use render functions."),e.exports=o.exports},246:function(e,t,a){"use strict";function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default={components:{ElInput:ElInput,ElButton:ElButton,ElFormItem:ElFormItem},name:"bill",data:function(){var e;return e={tableData:[{date:"2016-05-02",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"},{date:"2016-05-04",name:"王小虎",address:"上海市普陀区金沙江路 1517 弄"},{date:"2016-05-01",name:"王小虎",address:"上海市普陀区金沙江路 1519 弄"},{date:"2016-05-03",name:"王小虎",address:"上海市普陀区金沙江路 1516 弄"}],dialogVisible:!1,dialogVisibleForUnderCode:!1,dialogVisibleForFreeze:!1,dialogVisibleForQuitRemark:!1,dialogVisibleForTaskAllot:!1,dialogVisibleForPersionManager:!1,disableUpload:!1,pager:{pageNo:1,pageSize:10,totalSize:0},dataList:[],dataListItem:{id:"",name:"",status:"0",descr:""},form:{fromDate:"",endDate:"",status:""},pickerOptions:{disabledDate:function(e){return e.getTime()>Date.now()}},accountTypeOptions:[{value:"0",label:"类型一"},{value:"1",label:"类型二"}],isDailOptions:[{value:"0",label:"是"},{value:"1",label:"否"}]},o(e,"tableData",[]),o(e,"confirmAble",!1),o(e,"loadingInstance",null),o(e,"cacheOrderId",-1),o(e,"cacheRow",null),o(e,"importUrl",Api.importOrder),o(e,"loadingTable",!1),e},created:function(){if(!Utils.getSession("token"))return void Utils.go("");var e=this;if(e.confirmAble=2==+Utils.getSession("loginType"),e.form.fromDate=Utils.getSession("billQuery-fromDate"),e.form.endDate=Utils.getSession("billQuery-endDate"),e.role=Utils.getSession("role"),e.form.fromDate)e.form.status=Utils.getSession("billQuery-status"),Utils.removeSession("billQuery-fromDate"),Utils.removeSession("billQuery-endDate"),Utils.removeSession("billQuery-status");else{var t=new Date,a=Utils.formatDate(t,"YYYY/MM/DD"),o=t.getTime()-6048e5;o=Utils.formatDate(new Date(o),"YYYY/MM/DD"),e.form.fromDate=o,e.form.endDate=a}e.getList(e.form.fromDate,e.form.endDate,e.form.status),window.UNIQUE=Math.random().toString(36).substr(2).toUpperCase()},methods:{sizeChange:function(e){this.pager.pageSize=e,this.query()},currentChange:function(e){this.$data.pager.pageNo=e,this.query()},exportExcel:function(e){window.open(window.location.host+e)},goDetail:function(e){var t=this;Utils.setSession("isChecked","1"),Utils.setSession("detailStatus","1"),t.reGoDetail(e),window.location.href=res__+"/#/order"},goDetailCheck:function(e){var t=this;Utils.setSession("detailStatus","0"),Utils.setSession("isChecked","0"),t.reGoDetail(e),window.location.href=res__+"/#/order"},reGoDetail:function(e){var t=this;Utils.setSession("orderDate",e.date),Utils.setSession("orderStatus",e.status),t.form.fromDate=t.form.fromDate instanceof Date?Utils.formatDate(t.form.fromDate,"YYYY/MM/DD"):t.form.fromDate,t.form.endDate=t.form.endDate instanceof Date?Utils.formatDate(t.form.endDate,"YYYY/MM/DD"):t.form.endDate,Utils.setSession("billQuery-fromDate",t.form.fromDate),Utils.setSession("billQuery-endDate",t.form.endDate),Utils.setSession("billQuery-status",t.form.status),Utils.setSession("billQuery-account",e.orderId)},query:function(){var e=this,t=e.form.fromDate,a=e.form.endDate,o=e.form.status;if(t instanceof Date&&(t=Utils.formatDate(t,"YYYY/MM/DD")),a instanceof Date&&(a=Utils.formatDate(a,"YYYY/MM/DD")),new Date(t)>new Date(a))return void this.$message({showClose:!0,message:"开始时间应小于等于结束时间",type:"error"});this.getList(t,a,o)},confirmBill:function(e){var t=this,a=Utils.getSession("token");Utils.getSession("customerCode");Utils.ajax(Api.bill.confirmBill,{sessionCode:a,account:e},function(e){console.log(e),1==+e.status?(t.$message({showClose:!0,message:"确认成功",type:"success"}),t.query()):t.$message({showClose:!0,message:e.msg||"确认失败",type:"error"})})},getList:function(e,t,a){var o=this,s=Utils.getSession("token"),i=Utils.getSession("customerCode"),r={customerCode:i,dateFrom:e,dateTo:t,sessionCode:s,confirmStatus:a};Utils.ajax(Api.bill.list,r,function(e){if(1==+e.status){o.tableData=[],o.loadingTable=!1;var t=e.data;t&&t instanceof Array&&t.forEach(function(e){o.tableData.push({date:e.date,orderId:e.summaryOrderId,completeNum:-1,permissionSet:e.permissionSet,status:e.status,money:e.amount,count:e.quantity,orderSource:e.orderSource,confirm:"已确认"===e.status,loanStatus:e.loanStatus,customerLink:"/order/exportCustomers?billNumber="+e.summaryOrderId+"&date="+e.date+"&sessionCode="+s,orderLink:"/order/exportOrderItems?billNumber="+e.summaryOrderId+"&date="+e.date+"&sessionCode="+s})})}else o.$message({showClose:!0,message:e.msg||"数据请求失败",type:"error"})})},closeDialog:function(e){e()},upload:function(e){e.orderId&&(this.dialogVisible=!0,this.cacheOrderId=e.orderId,this.cacheRow=e),console.log(e)},handleRemove:function(e,t){console.log(e),console.log(t)},submitUpload:function(){this.disableUpload=!0,this.$refs.upload.submit(),this.dialogVisible=!1,this.loadingTable=!0},beforeUpload:function(e){var t="application/vnd.ms-excel"===e.type||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===e.type;return t||this.$message.error("上传的文件只能是 EXCEL 格式!"),t},uploadProgress:function(e,t,a){this.disableUpload=!0},uploadError:function(e,t,a){this.disableUpload=!1,this.loadingTable=!1,this.$message.error("文件上传失败!"),console.log(e)},uploadSuccess:function(e,t,a){var o=this;this.disableUpload=!1,this.$http.post(Api.handleOrder,{account:this.cacheOrderId,incr_index:e.data}).then(function(t){1==+t.data.status?o.getStatus(e.data,window.UNIQUE):o.$message.error("文件处理错误!")})},getStatus:function(e,t){var a=this;this.$http.post(Api.queryStatus,{index:e}).then(function(o){console.log(o.data),0==+o.data.data?t===window.UNIQUE&&setTimeout(function(){a.getStatus(e,t)},2e3):1==+o.data.data&&a.$http.post(Api.completeNum,{index:e}).then(function(e){console.log(e.data),console.log(e.data.data),a.cacheRow&&a.cacheRow instanceof Object&&(a.cacheRow.completeNum=e.data.data),a.loadingTable=!1,a.$message.success("文件上传成功!"),a.dialogVisible=!1,a.$refs.upload.clearFiles(),console.log(e.data)})})},test:function(){this.dialogVisibleForPersionManager=!0},makeLoans:function(e){}}}},296:function(e,t,a){t=e.exports=a(87)(!0),t.push([e.i,"\n.upload_file .el-upload[data-v-ec2faa82], .upload_file .el-upload-dragger[data-v-ec2faa82] {\n  width: 100%;\n}\n","",{version:3,sources:["F:/Workspaces/Java/Project/Mobanker/jar-x-sis/sis-ui/pc-h5-vue-element/src/vue/v_1.0.0/modules/authorization/index.vue"],names:[],mappings:";AAAA;EACE,YAAY;CAAE",file:"index.vue",sourcesContent:[".upload_file .el-upload, .upload_file .el-upload-dragger {\n  width: 100%; }\n"],sourceRoot:""}])},332:function(e,t,a){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[e._v("控制面板")]),e._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/index"}}},[e._v("首页")]),e._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/table"}}},[e._v("data")]),e._v(" "),a("el-breadcrumb-item",[e._v("预减免列表")])],1),e._v(" "),a("div",{staticClass:"element__body"},[a("div",{staticClass:"row1"},[a("el-form",{attrs:{inline:!0,model:e.form1}},[a("el-form-item",{attrs:{label:"姓名"}},[a("el-input")],1),e._v(" "),a("el-form-item",{attrs:{label:"所属小组"}},[a("el-select",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.accountTypeOptions,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",[a("el-button",[e._v("搜索")])],1),e._v(" "),a("el-form-item",[a("el-button",[e._v("重置")])],1)],1)],1),e._v(" "),a("div",{staticClass:"table"},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData3,border:"","tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{prop:"name",label:"姓名",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"小组",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"分期",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"单期",width:"120"}})],1),e._v(" "),a("el-pagination",{attrs:{"current-page":e.pager.pageNo,"page-sizes":[10,20,50],"page-size":e.pager.pageSize,layout:"sizes, prev, pager, next ,total,  jumper",total:e.pager.totalSize},on:{"size-change":e.sizeChange,"current-change":e.currentChange}})],1)]),e._v(" "),a("el-button",{on:{click:e.test}},[e._v("人员管理")]),e._v(" "),a("el-dialog",{attrs:{title:"人员管理",visible:e.dialogVisibleForPersionManager,"before-close":e.closeDialog},on:{"update:visible":function(t){e.dialogVisibleForPersionManager=t}}},[a("div",{staticClass:"row4"},[a("el-form",[a("el-form-item",{attrs:{label:"人员"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"每日上限"}},[a("el-input")],1),e._v(" "),a("el-form-item",{attrs:{label:"区域"}},[a("el-input")],1),e._v(" "),a("el-form-item",[a("el-button",[e._v("取消")]),e._v(" "),a("el-button",[e._v("提交")])],1)],1)],1)])],1)},staticRenderFns:[]},e.exports.render._withStripped=!0},365:function(e,t,a){var o=a(296);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);a(88)("e1bbb426",o,!1)}});