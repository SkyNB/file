webpackJsonp([15],{215:function(e,t,l){l(361);var a=l(51)(l(249),l(328),"data-v-9fd1dca4",null);a.options.__file="F:\\Workspaces\\Java\\Project\\Mobanker\\jar-x-sis\\sis-ui\\pc-h5-vue-element\\src\\vue\\v_1.0.0\\modules\\collection\\index.vue",a.esModule&&Object.keys(a.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),a.options.functional&&console.error("[vue-loader] index.vue: functional components are not supported with templates, they should use render functions."),e.exports=a.exports},249:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={components:{ElFormItem:ElFormItem},name:"bill",data:function(){return{tableData:[],dialogVisible:!1,dialogVisibleForUnderCode:!1,dialogVisibleForFreeze:!1,dialogVisibleForQuitRemark:!1,dialogVisibleForTaskAllot:!1,disableUpload:!1,pager:{pageNo:1,pageSize:10,totalSize:0},dataList:[],dataListItem:{id:"",name:"",status:"0",descr:""},form:{fromDate:"",endDate:"",status:""},pickerOptions:{disabledDate:function(e){return e.getTime()>Date.now()}},accountTypeOptions:[{value:"0",label:"类型一"},{value:"1",label:"类型二"}],isDailOptions:[{value:"0",label:"是"},{value:"1",label:"否"}],confirmAble:!1,loadingInstance:null,cacheOrderId:-1,cacheRow:null,importUrl:Api.importOrder,loadingTable:!1}},created:function(){if(!Utils.getSession("token"))return void Utils.go("");var e=this;if(e.confirmAble=2==+Utils.getSession("loginType"),e.form.fromDate=Utils.getSession("billQuery-fromDate"),e.form.endDate=Utils.getSession("billQuery-endDate"),e.role=Utils.getSession("role"),e.form.fromDate)e.form.status=Utils.getSession("billQuery-status"),Utils.removeSession("billQuery-fromDate"),Utils.removeSession("billQuery-endDate"),Utils.removeSession("billQuery-status");else{var t=new Date,l=Utils.formatDate(t,"YYYY/MM/DD"),a=t.getTime()-6048e5;a=Utils.formatDate(new Date(a),"YYYY/MM/DD"),e.form.fromDate=a,e.form.endDate=l}e.getList(e.form.fromDate,e.form.endDate,e.form.status),window.UNIQUE=Math.random().toString(36).substr(2).toUpperCase()},methods:{sizeChange:function(e){this.$data.pager.pageSize=e,this.query()},currentChange:function(e){this.$data.pager.pageNo=e,this.query()},exportExcel:function(e){window.open(window.location.host+e)},goDetail:function(e){var t=this;Utils.setSession("isChecked","1"),Utils.setSession("detailStatus","1"),t.reGoDetail(e),window.location.href=res__+"/#/order"},goDetailCheck:function(e){var t=this;Utils.setSession("detailStatus","0"),Utils.setSession("isChecked","0"),t.reGoDetail(e),window.location.href=res__+"/#/order"},reGoDetail:function(e){var t=this;Utils.setSession("orderDate",e.date),Utils.setSession("orderStatus",e.status),t.form.fromDate=t.form.fromDate instanceof Date?Utils.formatDate(t.form.fromDate,"YYYY/MM/DD"):t.form.fromDate,t.form.endDate=t.form.endDate instanceof Date?Utils.formatDate(t.form.endDate,"YYYY/MM/DD"):t.form.endDate,Utils.setSession("billQuery-fromDate",t.form.fromDate),Utils.setSession("billQuery-endDate",t.form.endDate),Utils.setSession("billQuery-status",t.form.status),Utils.setSession("billQuery-account",e.orderId)},query:function(){var e=this,t=e.form.fromDate,l=e.form.endDate,a=e.form.status;if(t instanceof Date&&(t=Utils.formatDate(t,"YYYY/MM/DD")),l instanceof Date&&(l=Utils.formatDate(l,"YYYY/MM/DD")),new Date(t)>new Date(l))return void this.$message({showClose:!0,message:"开始时间应小于等于结束时间",type:"error"});this.getList(t,l,a)},confirmBill:function(e){var t=this,l=Utils.getSession("token");Utils.getSession("customerCode");Utils.ajax(Api.bill.confirmBill,{sessionCode:l,account:e},function(e){console.log(e),1==+e.status?(t.$message({showClose:!0,message:"确认成功",type:"success"}),t.query()):t.$message({showClose:!0,message:e.msg||"确认失败",type:"error"})})},getList:function(e,t,l){var a=this,o=this.$data.pager;Utils.ajax(Api.collection.list,{pageNo:o.pageNo,pageSize:o.pageSize},function(e){if(1==+e.status){var t=e.data;a.tableData=t.list,o.totalSize=t.count}else a.$message({showClose:!0,message:e.msg||"数据请求失败",type:"error"})})},closeDialog:function(e){e()},upload:function(e){e.orderId&&(this.dialogVisible=!0,this.cacheOrderId=e.orderId,this.cacheRow=e),console.log(e)},handleRemove:function(e,t){console.log(e),console.log(t)},submitUpload:function(){this.disableUpload=!0,this.$refs.upload.submit(),this.dialogVisible=!1,this.loadingTable=!0},beforeUpload:function(e){var t="application/vnd.ms-excel"===e.type||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===e.type;return t||this.$message.error("上传的文件只能是 EXCEL 格式!"),t},uploadProgress:function(e,t,l){this.disableUpload=!0},uploadError:function(e,t,l){this.disableUpload=!1,this.loadingTable=!1,this.$message.error("文件上传失败!"),console.log(e)},uploadSuccess:function(e,t,l){var a=this;this.disableUpload=!1,this.$http.post(Api.handleOrder,{account:this.cacheOrderId,incr_index:e.data}).then(function(t){1==+t.data.status?a.getStatus(e.data,window.UNIQUE):a.$message.error("文件处理错误!")})},getStatus:function(e,t){var l=this;this.$http.post(Api.queryStatus,{index:e}).then(function(a){console.log(a.data),0==+a.data.data?t===window.UNIQUE&&setTimeout(function(){l.getStatus(e,t)},2e3):1==+a.data.data&&l.$http.post(Api.completeNum,{index:e}).then(function(e){console.log(e.data),console.log(e.data.data),l.cacheRow&&l.cacheRow instanceof Object&&(l.cacheRow.completeNum=e.data.data),l.loadingTable=!1,l.$message.success("文件上传成功!"),l.dialogVisible=!1,l.$refs.upload.clearFiles(),console.log(e.data)})})},underCode:function(e){this.dialogVisibleForUnderCode=!0},nonFrozen:function(){this.dialogVisibleForFreeze=!0},nonQuit:function(){this.dialogVisibleForQuitRemark=!0},test4:function(){window.location.href=res__+"/#/order"},taskAllot:function(){this.dialogVisibleForTaskAllot=!0},makeLoans:function(e){}}}},292:function(e,t,l){t=e.exports=l(87)(!0),t.push([e.i,"\n.upload_file .el-upload[data-v-9fd1dca4], .upload_file .el-upload-dragger[data-v-9fd1dca4] {\n  width: 100%;\n}\n","",{version:3,sources:["F:/Workspaces/Java/Project/Mobanker/jar-x-sis/sis-ui/pc-h5-vue-element/src/vue/v_1.0.0/modules/collection/index.vue"],names:[],mappings:";AAAA;EACE,YAAY;CAAE",file:"index.vue",sourcesContent:[".upload_file .el-upload, .upload_file .el-upload-dragger {\n  width: 100%; }\n"],sourceRoot:""}])},328:function(e,t,l){e.exports={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",[l("el-breadcrumb",{attrs:{separator:"/"}},[l("el-breadcrumb-item",[e._v("控制面板")]),e._v(" "),l("el-breadcrumb-item",{attrs:{to:{path:"/index"}}},[e._v("首页")]),e._v(" "),l("el-breadcrumb-item",{attrs:{to:{path:"/table"}}},[e._v("data")]),e._v(" "),l("el-breadcrumb-item",[e._v("催收")])],1),e._v(" "),l("div",{staticClass:"element__body"},[l("div",{staticClass:"row1"},[l("el-form",{attrs:{inline:!0,model:e.form1}},[l("el-form-item",[l("el-select",{attrs:{placeholder:"账号类型"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.accountTypeOptions,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),l("el-form-item",[l("el-input",{attrs:{placeholder:"账单金额"},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}})],1),e._v(" "),l("el-form-item",[l("span",{staticClass:"split"},[e._v("-")])]),e._v(" "),l("el-form-item",[l("el-input",{attrs:{placeholder:"账单金额"},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}})],1),e._v(" "),l("el-form-item",[l("el-input",{attrs:{placeholder:"逾期天数"},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}})],1),e._v(" "),l("el-form-item",[l("span",{staticClass:"split"},[e._v("-")])]),e._v(" "),l("el-form-item",[l("el-input",{attrs:{placeholder:"逾期天数"},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}})],1),e._v(" "),l("el-form-item",[l("el-date-picker",{attrs:{editable:!1,clearable:!1,type:"date",placeholder:"选择日期","picker-options":e.pickerOptions},model:{value:e.form.fromDate,callback:function(t){e.$set(e.form,"fromDate",t)},expression:"form.fromDate"}})],1),e._v(" "),l("el-form-item",[l("span",{staticClass:"split"},[e._v("-")])]),e._v(" "),l("el-form-item",[l("el-date-picker",{attrs:{editable:!1,clearable:!1,type:"date",placeholder:"选择日期","picker-options":e.pickerOptions},model:{value:e.form.endDate,callback:function(t){e.$set(e.form,"endDate",t)},expression:"form.endDate"}})],1)],1)],1),e._v(" "),l("div",{staticClass:"row2"},[l("el-form",{attrs:{inline:!0,model:e.form}},[l("el-form-item",[l("el-select",{attrs:{placeholder:"是否拨打"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.isDailOptions,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),l("el-form-item",[l("el-select",{attrs:{placeholder:"信函发送"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.isDailOptions,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),l("el-form-item",[l("el-select",{attrs:{placeholder:"分配查询"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.isDailOptions,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),l("el-form-item",[l("el-select",{attrs:{placeholder:"是否承诺"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.isDailOptions,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1)],1),e._v(" "),l("div",{staticClass:"row3"},[l("el-form",{attrs:{inline:!0,model:e.form}},[l("el-form-item",[l("el-select",{attrs:{placeholder:"是否标记"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.isDailOptions,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),l("el-form-item",[l("el-select",{attrs:{placeholder:"联络结果"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.isDailOptions,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),l("el-form-item",[l("el-button",{on:{click:function(e){}}},[e._v("搜索")])],1),e._v(" "),l("el-form-item",[l("el-button",{on:{click:function(e){}}},[e._v("重置")])],1),e._v(" "),l("el-form-item",[l("el-button",{on:{click:function(t){e.taskAllot()}}},[e._v("任务分配")])],1)],1)],1),e._v(" "),l("div",{staticClass:"table"},[l("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"","max-height":"250"}},[l("el-table-column",{attrs:{fixed:"",label:"全选",width:"70"},scopedSlots:e._u([{key:"default",fn:function(e){return[l("el-checkbox")]}}])}),e._v(" "),l("el-table-column",{attrs:{prop:"easiness",label:"容易度",width:"90"}}),e._v(" "),l("el-table-column",{attrs:{prop:"cutomerName",label:"姓名",width:"80"}}),e._v(" "),l("el-table-column",{attrs:{prop:"cardId",label:"身份证号",width:"120"}}),e._v(" "),l("el-table-column",{attrs:{prop:"loanNumber",label:"贷款号",width:"140"}}),e._v(" "),l("el-table-column",{attrs:{prop:"billAmount",label:"账单金额",width:"120"}}),e._v(" "),l("el-table-column",{attrs:{prop:"borrowCycle",label:"借款周期",width:"120"}}),e._v(" "),l("el-table-column",{attrs:{prop:"billAmount",label:"挂账金额",width:"120"}}),e._v(" "),l("el-table-column",{attrs:{prop:"",label:"催收员",width:"120"}}),e._v(" "),l("el-table-column",{attrs:{prop:"taskTime",label:"任务创建时间",width:"120"}}),e._v(" "),l("el-table-column",{attrs:{prop:"",label:"逾期天数",width:"120"}}),e._v(" "),l("el-table-column",{attrs:{prop:"commitmentTime",label:"承诺时间",width:"120"}}),e._v(" "),l("el-table-column",{attrs:{prop:"lastTime",label:"最后联系时间",width:"120"}}),e._v(" "),l("el-table-column",{attrs:{prop:"contactResult",label:"联络结果",width:"120"}}),e._v(" "),l("el-table-column",{attrs:{prop:"label",label:"标签",width:"120"}}),e._v(" "),l("el-table-column",{attrs:{prop:"orderStatus",label:"信函状态",width:"120"}}),e._v(" "),l("el-table-column",{attrs:{label:"管制",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(l){l.preventDefault(),e.underCode(t.row)}}},[e._v("下码")])]}}])}),e._v(" "),l("el-table-column",{attrs:{prop:"zip",label:"管制码结果",width:"90"}}),e._v(" "),l("el-table-column",{attrs:{prop:"zip",label:"通讯录调取",width:"90"}}),e._v(" "),l("el-table-column",{attrs:{label:"冻结",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(l){l.preventDefault(),e.nonFrozen(t.row)}}},[e._v("未冻结")])]}}])}),e._v(" "),l("el-table-column",{attrs:{label:"放弃",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(l){l.preventDefault(),e.nonQuit(t.row)}}},[e._v("未放弃")])]}}])}),e._v(" "),l("el-table-column",{attrs:{prop:"remarks",label:"备注",width:"90"}})],1),e._v(" "),l("el-pagination",{attrs:{"current-page":e.pager.pageNo,"page-sizes":[10,20,50],"page-size":e.pager.pageSize,layout:"sizes, prev, pager, next ,total,  jumper",total:e.pager.totalSize},on:{"size-change":e.sizeChange,"current-change":e.currentChange}})],1)]),e._v(" "),l("div",[l("el-button",{attrs:{type:"primary"},on:{click:e.test1}},[e._v("下码")]),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:e.test2}},[e._v("未冻结")]),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:e.test3}},[e._v("未放弃")]),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:e.test4}},[e._v("个人资料")]),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:e.test5}},[e._v("任务分配")])],1),e._v(" "),l("el-dialog",{attrs:{title:"管制下码",visible:e.dialogVisibleForUnderCode,"before-close":e.closeDialog},on:{"update:visible":function(t){e.dialogVisibleForUnderCode=t}}},[l("div",{staticClass:"row4"},[l("el-form",[l("el-form-item",{attrs:{label:"管制码:"}},[l("el-select",{attrs:{placeholder:"疑似欺诈案件"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.options,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),e._v(" "),l("el-select",{attrs:{placeholder:"非本人操作"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.options,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),l("el-form-item",[l("el-input",{attrs:{type:"textarea",rows:4,placeholder:"请输入内容"},model:{value:e.textarea,callback:function(t){e.textarea=t},expression:"textarea"}})],1),e._v(" "),l("el-form-item",[l("el-button",[e._v("取消")]),e._v(" "),l("el-button",[e._v("提交")])],1)],1),e._v(" "),l("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"","max-height":"150"}},[l("el-table-column",{attrs:{prop:"zip",label:"一级管制码",width:"120"}}),e._v(" "),l("el-table-column",{attrs:{prop:"zip",label:"二级管制码",width:"120"}}),e._v(" "),l("el-table-column",{attrs:{prop:"zip",label:"下码操作人",width:"120"}}),e._v(" "),l("el-table-column",{attrs:{prop:"zip",label:"下码时间",width:"120"}}),e._v(" "),l("el-table-column",{attrs:{prop:"zip",label:"下码备注",width:"120"}}),e._v(" "),l("el-table-column",{attrs:{prop:"zip",label:"拨码操作人",width:"120"}}),e._v(" "),l("el-table-column",{attrs:{prop:"zip",label:"拨码时间",width:"120"}}),e._v(" "),l("el-table-column",{attrs:{prop:"zip",label:"拨码备注",width:"120"}})],1)],1)]),e._v(" "),l("el-dialog",{attrs:{title:"账户冻结",visible:e.dialogVisibleForFreeze,"before-close":e.closeDialog},on:{"update:visible":function(t){e.dialogVisibleForFreeze=t}}},[l("div",{staticClass:"row4"},[l("el-form",[l("el-form-item",{attrs:{label:"冻结原因:"}},[l("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.options,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),l("el-form-item",[l("el-input",{attrs:{type:"textarea",rows:4,placeholder:"请输入内容"},model:{value:e.textarea,callback:function(t){e.textarea=t},expression:"textarea"}})],1),e._v(" "),l("el-form-item",[l("el-button",[e._v("取消")]),e._v(" "),l("el-button",[e._v("提交")])],1)],1),e._v(" "),l("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"","max-height":"150"}},[l("el-table-column",{attrs:{prop:"zip",label:"借款单号",width:"120"}}),e._v(" "),l("el-table-column",{attrs:{prop:"zip",label:"冻结原因",width:"120"}}),e._v(" "),l("el-table-column",{attrs:{prop:"zip",label:"冻结备注",width:"120"}}),e._v(" "),l("el-table-column",{attrs:{prop:"zip",label:"冻结人",width:"120"}}),e._v(" "),l("el-table-column",{attrs:{prop:"zip",label:"冻结时间",width:"120"}}),e._v(" "),l("el-table-column",{attrs:{prop:"zip",label:"解冻人",width:"120"}}),e._v(" "),l("el-table-column",{attrs:{prop:"zip",label:"解冻备注",width:"120"}}),e._v(" "),l("el-table-column",{attrs:{prop:"zip",label:"解冻时间",width:"120"}})],1)],1)]),e._v(" "),l("el-dialog",{attrs:{title:"放弃备注",visible:e.dialogVisibleForQuitRemark,"before-close":e.closeDialog},on:{"update:visible":function(t){e.dialogVisibleForQuitRemark=t}}},[l("div",{staticClass:"row4"},[l("el-form",[l("el-form-item",[l("span",[e._v("备注")]),e._v(" "),l("el-input",{attrs:{type:"textarea",rows:4,placeholder:"请输入内容"},model:{value:e.textarea,callback:function(t){e.textarea=t},expression:"textarea"}})],1),e._v(" "),l("el-form-item",[l("el-button",[e._v("取消")]),e._v(" "),l("el-button",[e._v("提交")])],1)],1),e._v(" "),l("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"","max-height":"150"}},[l("el-table-column",{attrs:{prop:"zip",label:"借款单号",width:"120"}}),e._v(" "),l("el-table-column",{attrs:{prop:"zip",label:"放弃操作人",width:"120"}}),e._v(" "),l("el-table-column",{attrs:{prop:"zip",label:"放弃备注",width:"120"}}),e._v(" "),l("el-table-column",{attrs:{prop:"zip",label:"放弃时间",width:"120"}}),e._v(" "),l("el-table-column",{attrs:{prop:"zip",label:"取消放弃人",width:"120"}}),e._v(" "),l("el-table-column",{attrs:{prop:"zip",label:"取消放弃备注",width:"120"}}),e._v(" "),l("el-table-column",{attrs:{prop:"zip",label:"取消放弃时间",width:"120"}})],1)],1)]),e._v(" "),l("el-dialog",{attrs:{title:"任务分配",visible:e.dialogVisibleForTaskAllot,"before-close":e.closeDialog},on:{"update:visible":function(t){e.dialogVisibleForTaskAllot=t}}},[l("div",{staticClass:"row4"},[l("el-form",[l("el-form-item",{attrs:{label:"所属人员"}},[l("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.options,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),l("el-form-item",[l("span",[e._v("分配数量")]),e._v(" "),l("el-input",{model:{value:e.input,callback:function(t){e.input=t},expression:"input"}})],1),e._v(" "),l("el-form-item",[l("el-button",[e._v("取消")]),e._v(" "),l("el-button",[e._v("提交")])],1)],1)],1)])],1)},staticRenderFns:[]},e.exports.render._withStripped=!0},361:function(e,t,l){var a=l(292);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);l(88)("0d6258e6",a,!1)}});