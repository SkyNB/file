webpackJsonp([12],{219:function(e,t,a){a(367);var s=a(51)(a(253),a(334),"data-v-fa90b358",null);s.options.__file="F:\\Workspaces\\Java\\Project\\Mobanker\\jar-x-sis\\sis-ui\\pc-h5-vue-element\\src\\vue\\v_1.0.0\\modules\\order\\index.vue",s.esModule&&Object.keys(s.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),s.options.functional&&console.error("[vue-loader] index.vue: functional components are not supported with templates, they should use render functions."),e.exports=s.exports},253:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"orderList",data:function(){return{orderDate:"",orderStatus:"",fromDate:"",endDate:"",status:"请选择",dialogTableVisible:!1,formLabelWidth:"100px",form:{name:"",phone:"",idCard:""},pickerOptions:{disabledDate:function(e){return e.getTime()>Date.now()}},tableData:[],total:0,currentPage:1,pageSize:20,basePageSize:20,pages:[20,50,100],detail:{name:"",phone:"",idCard:"",address:"",marriage:"",debitAccount:"",loanAccount:"",applyMoney:"",loanRate:"",overRate:"",startDate:"",endDate:""},confirmAble:!1,dialogShowCheck:!1,refusalCauses:[],allRegion:[],checkList:[],processStatus:"5",processes:[],age_processStatus:"0",region_processStatus:"",risk_score:"",order_sex:""}},created:function(){var e=this;e.confirmAble=2==+Utils.getSession("loginType"),e.orderDate=Utils.getSession("orderDate"),e.orderStatus=Utils.getSession("orderStatus"),e.account=Utils.getSession("billQuery-account"),e.permissionSet=Utils.getSession("permissionSet"),e.isChecked=Utils.getSession("isChecked"),e.detailStatus=Utils.getSession("detailStatus"),e.role=Utils.getSession("role");var t=e.processStatus;e.processes=[{value:"1",label:"进度：初步通过"},{value:"2",label:"进度：初步拒绝"},{value:"3",label:"进度：复核通过"},{value:"4",label:"进度：复核拒绝"},{value:"5",label:"状态：可以放款"}],e.age_process=[{value:"1",label:"18～35"},{value:"2",label:"35～50"},{value:"3",label:"50以上"},{value:"0",label:"不限年龄段"}],e.riskScore_process=[{value:"1",label:"60～70"},{value:"2",label:"70～80"},{value:"3",label:"80～90"},{value:"4",label:"90～100"}],e.sex_process=[{value:"0",label:"男"},{value:"1",label:"女"}],e.region_process=[{value:"0",label:"不限地域"}],Utils.getSession("token")||(window.location.href=ress__+"/#/login");var a=Utils.getSession("token"),s={sessionCode:a};Utils.ajax(Api.user.validSession,s,function(e){if(1!=+e.status)return void(window.location.href=ress__+"/#/login")}),e.getListData({account:e.account,canLoan:t}),e.getLoanResualCause(),e.getAllRegion()},methods:{handleSizeChange:function(e){var t=this;t.pageSize=e,t.getListData({account:t.account})},handleCurrentChange:function(e){var t=this;t.currentPage=e;var a=t.processStatus;t.getListData({account:t.account,canLoan:a})},goLoan:function(){2===this.checkList.length&&this.checkList.shift()},getListData:function(e){var t=this,a=this,s={customerCode:Utils.getSession("customerCode"),pageSeq:a.currentPage,pageSize:a.pageSize,sessionCode:Utils.getSession("token"),renter:a.form.name,cellPhone:a.form.phone,idCardNo:a.form.idCard,age:a.form.age_processStatus,region:a.form.region_processStatus,risk_score:a.form.riskScore_process,order_sex:a.form.sex_process};Utils.merge(s,e),Utils.ajax(Api.order.orderlist,s,function(e){var a=t;if(1==+e.status){var s=e.data.orderItems;a.total=e.data.total,a.tableData=[],s instanceof Array&&s.forEach(function(e){e.idCardHide=e.idcardno,e.phoneHide=e.cellphone,e.debitAccountHide=e.debitaccount,e.loadAccountHide=e.loadaccount,e.addressHide=e.homeadr;var t="";"0"===e.checkStatus?t="信贷员已通过":"1"===e.checkStatus?t="信贷员已拒绝":"2"===e.checkStatus?t="主任已通过":"3"===e.checkStatus&&(t="主任已拒绝"),""===t&&(t="正常"),a.tableData.push({orderId:e.billNo,status:0===e.status?"正常":"退单",name:e.renter,idCard:e.idcardno,idCardHide:e.idCardHide,phone:e.cellphone,phoneHide:e.phoneHide,money:e.iamount,fromDate:Utils.formatDate(new Date(e.startdate),"YYYY-MM-DD"),endDate:Utils.formatDate(new Date(e.expiredate),"YYYY-MM-DD"),detail:e,checkStatus:e.checkStatus,operation:t,resusalEx:e.resusalEx})})}})},showDetail:function(e){var t=this;t.detail={name:e.renter,phone:e.cellphone,phoneHide:e.phoneHide,idCard:e.idcardno,idCardHide:e.idCardHide,address:e.homeadr,addressHide:e.addressHide,marriage:e.married,debitAccount:e.debitaccount,debitAccountHide:e.debitAccountHide,loanAccount:e.loadaccount,loadAccountHide:e.loadAccountHide,applyMoney:e.iamount,loanRate:e.loanRate,overRate:e.overdueRange,startDate:Utils.formatDate(new Date(e.startdate),"YYYY-MM-DD"),endDate:Utils.formatDate(new Date(e.expiredate),"YYYY-MM-DD")},t.dialogTableVisible=!0},showCheck:function(e){var t=this;t.detail={},Utils.setSession("wait-update-id",e.id),t.dialogShowCheck=!0},goBack:function(){router.go(-1)},confirmAllPlotOrders:function(){var e=this;Utils.ajax(Api.order.confirmPlotOrder,{account:e.account},function(t){1==+t.status?(e.$message({showClose:!0,message:"确认成功",type:"success"}),e.search()):e.$message({showClose:!0,message:t.msg||"确认失败",type:"error"})})},search:function(){var e=this;e.form.name=e.form.name.trim(),e.form.phone=e.form.phone.trim(),e.form.idCard=e.form.idCard.trim();var t=e.processStatus;e.getListData({renter:e.form.name,cellPhone:e.form.phone,idCardNo:e.form.idCard,account:e.account,canLoan:t,age:e.age_processStatus,region:e.region_processStatus})},confirmOrder:function(){var e=this,t=Utils.getSession("sessionCode"),a=Utils.getSession("customerCode");e.$http.post(Api.confirmOrder,{customerCode:a,confirmDate:e.orderDate,sessionCode:t}).then(function(t){1==+t.data.status?(e.$message({showClose:!0,message:"确认成功",type:"success"}),e.orderStatus="已确认"):e.$message({showClose:!0,message:t.data.msg||"确认失败",type:"error"})})},reset:function(){var e=this;e.form.name="",e.form.phone="",e.form.idCard="",e.checkList=[],e.getListData({account:e.account}),e.region_processStatus="0",e.age_processStatus="0"},updateOrderStatus:function(){var e=this,t="-1",a=Utils.getSession("role"),s=Utils.getSession("wait-update-id"),o=Utils.getSession("token"),r=null;if(""===e.status||"请选择"===e.status)return e.detail={},void e.$message({showClose:!0,message:"请选择其中一选项",type:"error"});"1"===e.status?t="信贷员"===a?"0":"2":"2"===e.status?(t="信贷员"===a?"1":"3",r="2"):"3"===e.status&&(t="信贷员"===a?"1":"3",r="3"),e.detail={},e.dialogShowCheck=!1,Utils.ajax(Api.order.updateOrderStatus,{id:s,status:t,refusalId:r,sessionCode:o,account:e.account},function(t){var a=e.processStatus;e.getListData({account:e.account,canLoan:a})})},getLoanResualCause:function(){var e=this;Utils.ajax(Api.order.getRefusalCase,{},function(t){var a=e;if("00000000"==t.error&&"1"==t.status){var s=t.data;Utils.setSession("refuse-loan-cause",s),a.refusalCauses=s}else e.$message.error("请求拒绝放款原因接口失败!")})},getAllRegion:function(){var e=this;Utils.ajax(Api.order.allRegion,{},function(t){var a=e;if("00000000"==t.error&&"1"==t.status){var s=t.data;s&&s instanceof Array&&(s.forEach(function(e){a.region_process.push({label:e.name,value:e.id})}),a.region_process.push({label:"不限地域",value:"0"}),a.region_processStatus="0"),Utils.setSession("region_process",a.region_process)}else e.$message.error("请求所有接口区域接口失败!")})}}}},298:function(e,t,a){t=e.exports=a(87)(!0),t.push([e.i,'\n@charset "UTF-8";\n.order_list[data-v-fa90b358] {\n  margin: 20px;\n}\n.row[data-v-fa90b358] {\n  margin-top: 20px;\n}\n.row.status[data-v-fa90b358] {\n    text-align: right;\n    margin-top: 0;\n}\n.row .label[data-v-fa90b358] {\n    font-size: 1.2em;\n    font-weight: bold;\n    float: left;\n}\n.row[data-v-fa90b358]:after {\n    content: \' \';\n    display: block;\n    clear: both;\n}\n.table[data-v-fa90b358] {\n  margin-top: 20px;\n}\n.pagination[data-v-fa90b358] {\n  margin-top: 20px;\n  text-align: right;\n}\n.order_detail_table table[data-v-fa90b358] {\n  width: 100%;\n  border-color: #dfe6ec;\n  border-width: 1px;\n}\n.order_detail_table table td[data-v-fa90b358], .order_detail_table table th[data-v-fa90b358] {\n    padding: 3px 5px;\n}\n.checkbox_status[data-v-fa90b358] {\n  float: left;\n  margin-top: 15px;\n}\n.process_select[data-v-fa90b358] {\n  width: 150px;\n  height: 36px;\n  border-radius: 4px;\n}\n.btn1[data-v-fa90b358] {\n  margin-left: 12px;\n}\n.billNo[data-v-fa90b358] {\n  font-family: "\\5B8B\\4F53";\n  font-size: larger;\n  color: gold;\n}\n.light_color[data-v-fa90b358] {\n  color: #1fa7d4;\n}\n',"",{version:3,sources:["F:/Workspaces/Java/Project/Mobanker/jar-x-sis/sis-ui/pc-h5-vue-element/src/vue/v_1.0.0/modules/order/index.vue"],names:[],mappings:";AAAA,iBAAiB;AACjB;EACE,aAAa;CAAE;AAEjB;EACE,iBAAiB;CAAE;AACnB;IACE,kBAAkB;IAClB,cAAc;CAAE;AAClB;IACE,iBAAiB;IACjB,kBAAkB;IAClB,YAAY;CAAE;AAChB;IACE,aAAa;IACb,eAAe;IACf,YAAY;CAAE;AAElB;EACE,iBAAiB;CAAE;AAErB;EACE,iBAAiB;EACjB,kBAAkB;CAAE;AAEtB;EACE,YAAY;EACZ,sBAAsB;EACtB,kBAAkB;CAAE;AACpB;IACE,iBAAiB;CAAE;AAEvB;EACE,YAAY;EACZ,iBAAiB;CAAE;AAErB;EACE,aAAa;EACb,aAAa;EACb,mBAAmB;CAAE;AAEvB;EACE,kBAAkB;CAAE;AAEtB;EACE,0BAAkB;EAClB,kBAAkB;EAClB,YAAY;CAAE;AAEhB;EACE,eAAe;CAAE",file:"index.vue",sourcesContent:['@charset "UTF-8";\n.order_list {\n  margin: 20px; }\n\n.row {\n  margin-top: 20px; }\n  .row.status {\n    text-align: right;\n    margin-top: 0; }\n  .row .label {\n    font-size: 1.2em;\n    font-weight: bold;\n    float: left; }\n  .row:after {\n    content: \' \';\n    display: block;\n    clear: both; }\n\n.table {\n  margin-top: 20px; }\n\n.pagination {\n  margin-top: 20px;\n  text-align: right; }\n\n.order_detail_table table {\n  width: 100%;\n  border-color: #dfe6ec;\n  border-width: 1px; }\n  .order_detail_table table td, .order_detail_table table th {\n    padding: 3px 5px; }\n\n.checkbox_status {\n  float: left;\n  margin-top: 15px; }\n\n.process_select {\n  width: 150px;\n  height: 36px;\n  border-radius: 4px; }\n\n.btn1 {\n  margin-left: 12px; }\n\n.billNo {\n  font-family: "宋体";\n  font-size: larger;\n  color: gold; }\n\n.light_color {\n  color: #1fa7d4; }\n'],sourceRoot:""}])},334:function(e,t,a){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[e._v("控制面板")]),e._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/index"}}},[e._v("首页")]),e._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/table"}}},[e._v("data")]),e._v(" "),a("el-breadcrumb-item",[e._v("订单明细")])],1),e._v(" "),a("div",{staticClass:"element__body"},[a("div",{staticClass:"row"},[a("el-form",{attrs:{inline:!0,model:e.form}},[a("el-form-item",{attrs:{label:"姓名:"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号:"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"身份证:"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.idCard,callback:function(t){e.$set(e.form,"idCard",t)},expression:"form.idCard"}})],1),e._v(" "),a("el-select",{staticClass:"process_select",attrs:{placeholder:"请选择年龄段"},model:{value:e.age_processStatus,callback:function(t){e.age_processStatus=t},expression:"age_processStatus"}},e._l(e.age_process,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),e._v(" "),a("el-select",{staticClass:"process_select",attrs:{placeholder:"请选择区域"},model:{value:e.region_processStatus,callback:function(t){e.region_processStatus=t},expression:"region_processStatus"}},e._l(e.region_process,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),e._v(" "),"1"!=e.detailStatus?a("el-form-item",[a("el-select",{staticClass:"process_select",attrs:{placeholder:"请选择"},model:{value:e.processStatus,callback:function(t){e.processStatus=t},expression:"processStatus"}},e._l(e.processes,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"风控评分:"}},[a("el-select",{staticClass:"process_select",attrs:{placeholder:"-- 请选择 --"},model:{value:e.risk_score,callback:function(t){e.risk_score=t},expression:"risk_score"}},e._l(e.riskScore_process,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"性别:"}},[a("el-select",{staticClass:"process_select",attrs:{placeholder:"-- 请选择 --"},model:{value:e.order_sex,callback:function(t){e.order_sex=t},expression:"order_sex"}},e._l(e.sex_process,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"工作:"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.work,callback:function(t){e.$set(e.form,"work",t)},expression:"form.work"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"贷款额度:"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.loanLimit,callback:function(t){e.$set(e.form,"loanLimit",t)},expression:"form.loanLimit"}})],1),e._v(" "),a("el-button",{staticClass:"btn1",attrs:{type:"primary"},on:{click:e.search}},[e._v("查询")]),e._v(" "),a("el-button",{staticClass:"btn2",attrs:{type:"primary"},on:{click:e.reset}},[e._v("重置")]),e._v(" "),"1"!=e.detailStatus&&"主任"==e.role?a("el-button",{staticClass:"query_btn",on:{click:e.confirmAllPlotOrders}},[e._v("全部确认")]):e._e()],1)],1),e._v(" "),a("div",{staticClass:"table"},[a("el-table",{attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{label:"订单编号",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"light_color"},[e._v(e._s(t.row.orderId))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"姓名",width:"90"}}),e._v(" "),a("el-table-column",{attrs:{label:"身份证号",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{attrs:{content:t.row.idCard,placement:"top-start"}},[a("span",{staticClass:"light_color"},[e._v(e._s(t.row.idCardHide))])])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"手机号",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{attrs:{content:t.row.phone,placement:"top-start"}},[a("span",{staticClass:"light_color"},[e._v(e._s(t.row.phoneHide))])])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"money",label:"申请金额(元)",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"fromDate",label:"合同开始日期",width:"130"}}),e._v(" "),a("el-table-column",{attrs:{prop:"endDate",label:"合同到期日期",width:"130"}}),e._v(" "),a("el-table-column",{attrs:{label:"审核状态",width:"130"},scopedSlots:e._u([{key:"default",fn:function(t){return[""!=t.row.resusalEx&&null!=t.row.resusalEx?a("el-tooltip",{attrs:{content:t.row.resusalEx,placement:"top-start"}},[a("span",[e._v(e._s(t.row.operation))])]):e._e(),e._v(" "),""==t.row.resusalEx||null==t.row.resusalEx?a("span",[e._v(e._s(t.row.operation))]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.showDetail(t.row.detail)}}},[e._v("详细")]),e._v(" "),"信贷员"!=e.role||"0"!=e.isChecked||null!=t.row.checkStatus&&""!=t.row.checkStatus?e._e():a("el-button",{attrs:{type:"text"},on:{click:function(a){e.showCheck(t.row.detail)}}},[e._v("检查\n                        ")]),e._v(" "),"主任"==e.role&&"0"==e.isChecked&&"1"==t.row.checkStatus?a("el-button",{attrs:{type:"text"},on:{click:function(a){e.showCheck(t.row.detail)}}},[e._v("复核\n                        ")]):e._e(),e._v(" "),"0"==e.isChecked&&("1"==e.permissionSet&&null!=t.row.checkStatus&&""!=t.row.checkStatus||"2"==e.permissionSet&&("2"==t.row.checkStatus||"3"==t.row.checkStatus))?a("span",[e._v("已操作")]):e._e()]}}])})],1)],1),e._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":e.pages,"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:+e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)]),e._v(" "),a("el-dialog",{attrs:{title:"订单详情",visible:e.dialogTableVisible},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[a("div",{staticClass:"order_detail_table"},[a("table",{attrs:{width:"100%",cellspacing:"0",cellpadding:"0",border:"1"}},[a("tbody",[a("tr",[a("th",[e._v("姓名")]),e._v(" "),a("td",[e._v(e._s(e.detail.name))]),e._v(" "),a("th",[e._v("手机号")]),e._v(" "),a("td",[a("el-tooltip",{attrs:{content:e.detail.phone,placement:"top-start"}},[a("span",[e._v(e._s(e.detail.phoneHide))])])],1),e._v(" "),a("th",[e._v("身份证号")]),e._v(" "),a("td",[a("el-tooltip",{attrs:{content:e.detail.idCard,placement:"top-start"}},[a("span",[e._v(e._s(e.detail.idCardHide))])])],1)]),e._v(" "),a("tr",[a("th",[e._v("家庭地址")]),e._v(" "),a("td",{attrs:{colspan:"3"}},[a("el-tooltip",{attrs:{content:e.detail.address,placement:"top-start"}},[a("span",[e._v(e._s(e.detail.addressHide))])])],1),e._v(" "),a("th",[e._v("婚姻状况")]),e._v(" "),a("td",[e._v(e._s(e.detail.marriage))])]),e._v(" "),a("tr",[a("th",[e._v("扣款账号")]),e._v(" "),a("td",{attrs:{colspan:"2"}},[a("el-tooltip",{attrs:{content:e.detail.debitAccount,placement:"top-start"}},[a("span",[e._v(e._s(e.detail.debitAccountHide))])])],1),e._v(" "),a("th",[e._v("放款账号")]),e._v(" "),a("td",{attrs:{colspan:"2"}},[a("el-tooltip",{attrs:{content:e.detail.loanAccount,placement:"top-start"}},[a("span",[e._v(e._s(e.detail.loadAccountHide))])])],1)]),e._v(" "),a("tr",[a("th",[e._v("申请金额")]),e._v(" "),a("td",[e._v(e._s(e.detail.applyMoney))]),e._v(" "),a("th",[e._v("贷款利率")]),e._v(" "),a("td",[e._v(e._s(e.detail.loanRate)+"‰")]),e._v(" "),a("th",[e._v("逾期浮动利率")]),e._v(" "),a("td",[e._v(e._s(e.detail.overRate)+"%")])]),e._v(" "),a("tr",[a("th",[e._v("开始日期")]),e._v(" "),a("td",{attrs:{colspan:"2"}},[e._v(e._s(e.detail.startDate))]),e._v(" "),a("th",[e._v("结束日期")]),e._v(" "),a("td",{attrs:{colspan:"2"}},[e._v(e._s(e.detail.endDate))])])])])])]),e._v(" "),a("el-dialog",{attrs:{title:"检查确认",visible:e.dialogShowCheck},on:{"update:visible":function(t){e.dialogShowCheck=t}}},[a("form",{staticClass:"form"},[a("div",{staticClass:"row",attrs:{"float:left":""}},[a("span",{staticClass:"label_status"},[e._v("状态")]),e._v(" "),a("el-select",{attrs:{clearable:""},model:{value:e.status,callback:function(t){e.status=t},expression:"status"}},e._l(e.refusalCauses,function(e){return a("el-option",{attrs:{label:e.refuseEx,value:e.id}})})),e._v(" "),a("el-button",{attrs:{"float:right":""},on:{click:function(t){e.updateOrderStatus()}}},[e._v("确认")])],1)])])],1)},staticRenderFns:[]},e.exports.render._withStripped=!0},367:function(e,t,a){var s=a(298);"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);a(88)("3979fe5a",s,!1)}});